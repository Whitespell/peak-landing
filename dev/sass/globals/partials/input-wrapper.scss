.input-wrapper {
    min-width: 300px;
    display: inline-block;

    &__input, &__icon-wrapper {
        font-size: $size-m;

        border-radius: $border-radius;
        display: block;

        padding: $margin-s $margin-m;
        float: left;
        overflow: hidden;

        &:focus {
            outline: none;
        }
    }

    &__input {
        font: $main-weight $size-s $main-family;
        width: 100%;
        max-width: 250px;
        height: 45px;

        @include border($color: $white);
        background-color: rgba($accent, .2);
        color: $white;
        border-right: none;

        border-top-right-radius: 0;
        border-bottom-right-radius: 0;

        -webkit-appearance: none;

        &::-webkit-input-placeholder {
           color: $white;
        }
        &:-moz-placeholder { /* Firefox 18- */
           color: $white;
        }
        &::-moz-placeholder {  /* Firefox 19+ */
           color: $white;
        }
        &:-ms-input-placeholder {
           color: $white;
        }
    }

    &__icon-wrapper {
        width: 50px;
        text-align: center;

        height: 45px;
        line-height: 45px;

        padding: 0;

        @include border($color: $white);
        @include transition(all);

        color: $accent;
        background-color: $white;

        border-top-left-radius: 0;
        border-bottom-left-radius: 0;

        padding-bottom: 5px;
        cursor: pointer;

        &__icon:before {
            position: relative;
            content: 'send';
            @include transition(opacity, $duration: $transition-duration);
        }

        &.is-hidden &__icon:before {
            opacity: 0;
        }
        &.is-mailing &__icon:before {
            content: 'mail';
            animation: mail-icon-mailing 1.5s ease infinite;
        }
        &.is-success &__icon:before {
            content: 'check';
        }
        &.is-error &__icon:before {
            content: 'delete';
        }

        &:hover {
            background-color: $accent;
            border-color: $accent;
            color: $white;
        }
    }
}

@keyframes mail-icon-mailing {
    0% {
        left: 0;
    }

    50% {
        left: 40px;
    }

    51% {
        left: 40px;
        opacity: 0;
    }
    52% {
        left: -40px;
        opacity: 0;
    }
    53% {
        left: -40px;
        opacity: 1;
    }

    100% {
        left: 0;
    }
}